!function e(t,i,n){function r(o,d){if(!i[o]){if(!t[o]){var c="function"==typeof require&&require;if(!d&&c)return c(o,!0);if(s)return s(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var a=i[o]={exports:{}};t[o][0].call(a.exports,function(e){var i=t[o][1][e];return r(i?i:e)},a,a.exports,e,t,i,n)}return i[o].exports}for(var s="function"==typeof require&&require,o=0;o<n.length;o++)r(n[o]);return r}({1:[function(e,t,i){var n;t.exports=n=function(){function e(e,t){var i;this.$progressBar=e,this.$progressBar.css({opacity:1,width:0}),i=3*t,i*=1.5,6e3>i?i=6e3:i>=864e5&&(this.longRunner=!0),this.blockSize=11e4/i,this.perc=0,this.move()}return e.prototype.move=function(){return this.perc<65?this.perc+=Math.random()*this.blockSize:this.perc<90?this.perc+=.03*(100-this.perc):this.perc+=.01*(100-this.perc),this.perc<100?this.$progressBar.delay(300*Math.random()).animate({width:this.perc+"%"},{duration:800*Math.random()+100,complete:function(e){return function(){return e.move()}}(this)}):(this.perc=0,this.setMessageHtml(this.currentMessage+" - progression "+ ++this.tries),this.stop(),this.$progressBar.css({width:"0"}),this.move())},e.prototype.stop=function(){return this.$progressBar.stop(!0)},e.prototype.start=function(){return this.move()},e.prototype.complete=function(e,t){return this.stop(),this.$progressBar.animate({width:"100%"},{duration:700,easing:"easeInOutQuint"})},e}()},{}],2:[function(e,t,i){var n,r;r=e("jade/sequence-error"),t.exports=n=function(){function e(e,t,i){this.data=t,this.retryCb=i,this.isFullScreen=!1,this.$node=$(r(this.data)),e.append(this.$node),castShadows(this.$node),$(".stack-trace-btn",this.$node).on("click",function(e){return function(){return e.toggleFullScreen()}}(this)),$(".retry-btn",this.$node).on("click",function(e){return function(){return e.retryCb()}}(this)),setTimeout(function(e){return function(){return e.$node.removeClass("hidden")}}(this),50)}return e.prototype.toggleFullScreen=function(){return this.isFullScreen?this.minimize():this.goFullScreen(),this.isFullScreen=!this.isFullScreen},e.prototype.minimize=function(){return $(this.$node).velocity({opacity:0},{duration:200,complete:function(e){return function(){return $(e.$node).velocity({opacity:1},{duration:200}),e.$node.removeClass("full-screen")}}(this)})},e.prototype.goFullScreen=function(){return $(this.$node).velocity({opacity:0},{duration:200,complete:function(e){return function(){return $(e.$node).velocity({opacity:1},{duration:35}),e.$node.addClass("full-screen")}}(this)})},e.prototype.hide=function(e){return null==e&&(e=!1),this.$node.addClass("hidden"),e?setTimeout(function(e){return function(){return e.destroy()}}(this),650):void 0},e.prototype.destroy=function(){return $(".retry-btn",this.$node).off(),$(".stack-trace-btn",this.$node).off(),this.$node.remove()},e}()},{"jade/sequence-error":5}],3:[function(e,t,i){var n,r,s,o,d=function(e,t){return function(){return e.apply(t,arguments)}};n=e("components/progress"),s=e("components/sequence-error"),o=e("jade/sequence"),t.exports=r=function(){function e(e,t){this.data=t,this.onErrorRetry=d(this.onErrorRetry,this),this.scrubData(this.data),this.build(e,this.data)}return e.prototype.build=function(e,t){return this.data=t,this.$node=$(o(this.data)),this.$children=$(".children",this.$node),this.$content=$(".content",this.$node),this.$metaMessage=$(".meta-message",this.$node),e.append(this.$node),this.children={},"root"!==this.data.viewClass&&(this.progressBar=new n($(".progress",this.$node),this.data.estimate)),setTimeout(function(e){return function(){return e.$content.addClass("open")}}(this),50)},e.prototype.update=function(e){return this.packet=e,this.updateContent(),this.markAllChildrenForDeletion(),this.createAndUpdateChildren(),this.addOrRemoveError(),this.deleteCompleteChildren()},e.prototype.updateContent=function(){return $(".state",this.$content).text(this.packet.status)},e.prototype.createAndUpdateChildren=function(){var t,i,n,r,s;for(n=this.packet.children,r=[],t=0,i=n.length;i>t;t++)s=n[t],null==this.children[s.id]&&(this.children[s.id]=new e(this.$children,s)),this.children[s.id].update(s),r.push(delete this.doomedChildren[s.id]);return r},e.prototype.markAllChildrenForDeletion=function(){var e,t,i,n;this.doomedChildren={},i=this.children,n=[];for(t in i)e=i[t],n.push(this.doomedChildren[t]=e);return n},e.prototype.addOrRemoveError=function(){var e,t;return null!=this.packet.error&&null==this.error?(this.error=new s($(">.error",this.$node),this.packet.error,this.onErrorRetry),null!=(e=this.progressBar)?e.stop():void 0):null==this.packet.error&&null!=this.error?(this.error.hide(!0),this.error=null,null!=(t=this.progressBar)?t.start():void 0):void 0},e.prototype.deleteCompleteChildren=function(){var e,t,i;i=this.doomedChildren;for(t in i)e=i[t],e["delete"](),delete this.children[t];return this.doomedChildren=null},e.prototype.complete=function(){var e;return null!=(e=this.error)&&e.hide(!0),this.$metaMessage.text(" - Complete!"),this.$node.addClass("complete"),null!=this.progressBar&&this.progressBar.complete(),setTimeout(function(e){return function(){return e.$content.addClass("hidden"),setTimeout(function(){return e.$content.removeClass("open"),setTimeout(function(){return e.remove()},600)},200)}}(this),600)},e.prototype["delete"]=function(){return this.markAllChildrenForDeletion(),this.deleteCompleteChildren(),this.complete()},e.prototype.deleteImmediately=function(){return this["delete"](),this.remove()},e.prototype.remove=function(){return this.$node.remove()},e.prototype.onErrorRetry=function(){return PubSub.publish("sequence.retry",this.packet.id),this.error.hide(!0),this.error=null},e.prototype.scrubData=function(e){return e.viewClass||(e.viewClass="")},e}()},{"components/progress":1,"components/sequence-error":2,"jade/sequence":7}],4:[function(e,t,i){var n,r,s,o=function(e,t){return function(){return e.apply(t,arguments)}};s=e("jade/sequence-wrapper"),n=e("components/sequence"),r=function(){function e(e,t){this.$el=e,this.unMinimize=o(this.unMinimize,this),this.minimize=o(this.minimize,this),this.sequences={},this.$node=$(s({})),this.$el.append(this.$node),this.sequencesHolder=$(".sequences",this.$node),this.$el.append(this.$node),$(".trans-close-btn",this.$node).click(this.minimize),PubSub.subscribe("sequence.retry",function(e,i){return t(i)})}return e.prototype.onStormpackUpdate=function(e){return this.packet=e,this.markAllSequencesForDeletion(),this.createAndUpdatesequences(),this.completeFinishedSequences(),this.hideIfNosequences()},e.prototype.clearAllsequences=function(){var e,t,i;t=this.sequences;for(e in t)i=t[e],i.deleteImmediately();return this.sequences={},this.sequencesHolder.empty(),this.$el.css({display:"none"})},e.prototype.markAllSequencesForDeletion=function(){var e,t,i,n;this.doomedSequences=[],t=this.sequences,i=[];for(e in t)n=t[e],i.push(this.doomedSequences[e]=n);return i},e.prototype.createAndUpdatesequences=function(){var e,t,i,n,r,s,o;for(n=this.packet,r=[],t=0,i=n.length;i>t;t++)o=n[t],s=this.getOrCreatesequence(o),null!==s?(e=s.update(o),0!==Object.keys(this.sequences).length?r.push(this.show()):r.push(void 0)):r.push(void 0);return r},e.prototype.completeFinishedSequences=function(){},e.prototype.getOrCreatesequence=function(e){var t;return null!=this.sequences[e.id]?this.sequences[e.id]:(t=new n(this.sequencesHolder,e),this.sequences[e.id]=t,t)},e.prototype.hideIfNosequences=function(){return 0===Object.keys(this.sequences).length?this.hide():void 0},e.prototype.hide=function(){return this.$el.velocity({opacity:0},{delay:1200,duration:250,complete:function(e){return function(){return e.$el.css({display:"none"})}}(this)})},e.prototype.show=function(){return this.$el.css({opacity:1,display:"inline-block"})},e.prototype.minimize=function(e){return this.isMinimized?void 0:(this.$node.click(this.unMinimize),this.$node.addClass("minimized"),e.stopPropagation(),this.isMinimized=!0)},e.prototype.unMinimize=function(){return this.isMinimized?(this.isMinimized=!1,this.$node.removeClass("minimized")):void 0},e}(),window.nanobox||(window.nanobox={}),nanobox.SequenceViewer=r},{"components/sequence":3,"jade/sequence-wrapper":6}],5:[function(e,t,i){t.exports=function(e){var t,i=[],n=e||{};return function(e,n,r,s){i.push('<div class="sequence-error hidden"><div class="info"><div class="error-code"><div class="txt">Error</div><div class="code">'+jade.escape(null==(t=e)?"":t)+'</div></div><div class="error-content summary"><div class="label">Summary:</div><div class="txt">'+jade.escape(null==(t=r)?"":t)+'</div></div><div class="error-content guide"><div class="label">Guide: </div><a'+jade.attr("href",""+n,!0,!1)+' target="_blank"> <div class="txt">Understanding and Resolving a '+jade.escape(null==(t=e)?"":t)+' Error</div><img data-src="external-link" class="shadow-icon"/></a></div><div class="retry-btn">Retry</div><div class="stack-trace-btn"> <img data-src="stack-trace" class="shadow-icon"/><div class="txt"></div></div></div><pre class="stack-trace">'+jade.escape(null==(t=s)?"":t)+"</pre></div>")}.call(this,"code"in n?n.code:"undefined"!=typeof code?code:void 0,"doc"in n?n.doc:"undefined"!=typeof doc?doc:void 0,"summary"in n?n.summary:"undefined"!=typeof summary?summary:void 0,"trace"in n?n.trace:"undefined"!=typeof trace?trace:void 0),i.join("")}},{}],6:[function(e,t,i){t.exports=function(e){var t=[];return t.push('<div class="sequence-wrapper fixed"><div class="sequences"></div><div class="trans-close-btn">x</div></div>'),t.join("")}},{}],7:[function(e,t,i){t.exports=function(e){var t,i=[],n=e||{};return function(e,n,r,s){i.push("<div"+jade.attr("title",""+e,!0,!1)+jade.cls(["sequence",""+s],[null,!0])+'><div class="content"><div class="title"> <div class="main">'+jade.escape(null==(t=r)?"":t)+'</div><div class="message">'+jade.escape(null==(t=n)?"":t)+'</div><div class="meta-message"></div><div class="state"> </div></div><div class="progress"></div></div><div class="error"></div><div class="children"> </div></div>')}.call(this,"hoverToolTip"in n?n.hoverToolTip:"undefined"!=typeof hoverToolTip?hoverToolTip:void 0,"message"in n?n.message:"undefined"!=typeof message?message:void 0,"title"in n?n.title:"undefined"!=typeof title?title:void 0,"viewClass"in n?n.viewClass:"undefined"!=typeof viewClass?viewClass:void 0),i.join("")}},{}]},{},[4]);